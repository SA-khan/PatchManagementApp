/****** Object:  Table [dbo].[USER]    Script Date: 3/26/2020 10:02:38 PM ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[USER](
	[USR_ID] [int] IDENTITY(1,1) NOT NULL,
	[USR_LOGIN_ID] [varchar](50) NOT NULL,
	[USR_NAME] [varchar](50) NULL,
	[USR_EMAIL_ADDRESS] [varchar](100) NULL,
	[USR_CREATED_DATE] [datetime] NULL,
	[USR_GROUP] [int] NULL,
	[USR_ROLE] [int] NULL,
	[USR_ENABLED] [bit] NULL,
	[USR_CURRENT_PASSCODE] [varchar](40) NULL,
	[USR_IS_LOGIN] [bit] NULL,
	[USR_LOGIN_DATE] [datetime] NULL,
	[USR_WRONG_ATTEMPTS] [smallint] NULL,
	[USR_PASSCODE_1] [varchar](40) NULL,
	[USR_PASSCODE_2] [varchar](40) NULL,
	[USR_PASSCODE_3] [varchar](40) NULL,
	[USR_PASSCODE_POLICY] [int] NULL,
	[USR_QUESTION_1] [int] NULL,
	[USR_ANSWER_1] [varchar](40) NULL,
	[USR_QUESTION_2] [int] NULL,
	[USR_ANSWER_2] [varchar](40) NULL,
	[USR_QUESTION_3] [int] NULL,
	[USR_ANSWER_3] [varchar](40) NULL,
	[USR_LST_PCODE_CHG] [datetime] NULL,
	[USR_PREF_LANG] [char](10) NULL,
	[USR_PREF_THEME] [char](5) NULL,
	[USR_REGION] [char](2) NULL,
	[USR_AGREEMENT] [bit] NULL,
UNIQUE NONCLUSTERED 
(
	[USR_LOGIN_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO

ALTER TABLE [dbo].[USER] ADD  DEFAULT (getdate()) FOR [USR_CREATED_DATE]
GO

ALTER TABLE [dbo].[USER] ADD  DEFAULT ((1)) FOR [USR_GROUP]
GO

ALTER TABLE [dbo].[USER] ADD  DEFAULT ((1)) FOR [USR_ROLE]
GO

ALTER TABLE [dbo].[USER] ADD  DEFAULT ((1)) FOR [USR_ENABLED]
GO

ALTER TABLE [dbo].[USER] ADD  DEFAULT ('Test!123') FOR [USR_CURRENT_PASSCODE]
GO

ALTER TABLE [dbo].[USER] ADD  DEFAULT ((0)) FOR [USR_IS_LOGIN]
GO

ALTER TABLE [dbo].[USER] ADD  DEFAULT ((0)) FOR [USR_WRONG_ATTEMPTS]
GO

ALTER TABLE [dbo].[USER] ADD  DEFAULT (getdate()) FOR [USR_LST_PCODE_CHG]
GO

ALTER TABLE [dbo].[USER] ADD  DEFAULT ('en') FOR [USR_PREF_LANG]
GO

ALTER TABLE [dbo].[USER] ADD  DEFAULT ('light') FOR [USR_PREF_THEME]
GO

ALTER TABLE [dbo].[USER] ADD  DEFAULT ('pk') FOR [USR_REGION]
GO

ALTER TABLE [dbo].[USER] ADD  DEFAULT ((0)) FOR [USR_AGREEMENT]
GO

ALTER TABLE [dbo].[USER]  WITH CHECK ADD FOREIGN KEY([USR_GROUP])
REFERENCES [dbo].[USER_GROUP] ([USRG_ID])
GO

ALTER TABLE [dbo].[USER]  WITH CHECK ADD FOREIGN KEY([USR_PASSCODE_POLICY])
REFERENCES [dbo].[PASSCODE_POLICY] ([PASSP_ID])
GO

ALTER TABLE [dbo].[USER]  WITH CHECK ADD FOREIGN KEY([USR_PREF_LANG])
REFERENCES [dbo].[LANGUAGE] ([LNG_SHORT_CODE])
GO

ALTER TABLE [dbo].[USER]  WITH CHECK ADD FOREIGN KEY([USR_PREF_THEME])
REFERENCES [dbo].[THEME] ([THM_CODE])
GO

ALTER TABLE [dbo].[USER]  WITH CHECK ADD FOREIGN KEY([USR_QUESTION_1])
REFERENCES [dbo].[USER_QUESTION] ([USRQ_ID])
GO

ALTER TABLE [dbo].[USER]  WITH CHECK ADD FOREIGN KEY([USR_QUESTION_1])
REFERENCES [dbo].[USER_QUESTION] ([USRQ_ID])
GO

ALTER TABLE [dbo].[USER]  WITH CHECK ADD FOREIGN KEY([USR_QUESTION_1])
REFERENCES [dbo].[USER_QUESTION] ([USRQ_ID])
GO

ALTER TABLE [dbo].[USER]  WITH CHECK ADD FOREIGN KEY([USR_REGION])
REFERENCES [dbo].[REGION] ([REG_ISO2_CODE])
GO

ALTER TABLE [dbo].[USER]  WITH CHECK ADD FOREIGN KEY([USR_ROLE])
REFERENCES [dbo].[ROLE] ([ROLE_ID])
GO

