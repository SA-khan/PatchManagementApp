/****** Object:  StoredProcedure [dbo].[spGetMiddlewareDataSourceDesc]    Script Date: 4/9/2020 7:40:15 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROC [dbo].[spGetMiddlewareDataSourceDesc]
	@ENV_ID int
AS
BEGIN
SELECT 'MIDDLEWARE' AS TYPE, 
	[MDW_ID],
	[MDW_ENV_ID],
	[MDW_NAME],
	[MDW_TYPE],
	[MDW_LINK],
        [MDW_ACCESS_KEY],
        [MDW_WEB_SERVER],
        [MDW_WEB_SERVER_VERSION],
        [MDW_DIRECTORY_LOCATION],
        [MDW_DOCUMENTATION_LOCATION],
        [MDW_SERVER_IP],
        [MDW_SERVER_PORT],
        [MDW_SERVER_NAME],
        [MDW_SERVER_LOGIN],
        [MDW_SERVER_PASSWORD],
        [MDW_SERVER_OS],
        [MDW_SERVER_OS_BUILD],
        [MDW_SERVER_REGISTER_TYPE],
        [MDW_SERVER_VIRTUALIZATION],
        [MDW_SERVER_PROCESSOR],
        [MDW_SERVER_MEMORY],
        [MDW_DATABASE_NAME],
        [MDW_DATABASE_DIRECTORY_LOCATION],
        [MDW_DATABASE_LAST_RESTORE_DATE],
        [MDW_DATABASE_LAST_BACKUP_DATE],
        [MDW_MDF_FILE_LOCATION],
        [MDW_MDF_FILE_SIZE],
        [MDW_LDF_FILE_LOCATION],
        [MDW_LDF_FILE_SIZE],
        [MDW_DIRECTORY_HASH],
        [MDW_SERVER_DEPENDENCY],
        [MDW_VENDER_ID],
	[VEN_ID],
	[VEN_NAME],
	[VEN_DESC], 
	[VEN_IMAGE_SRC] 
FROM [MIDDLEWARE] INNER JOIN [VENDER] ON [MDW_VENDER_ID] = [VEN_ID]
WHERE MDW_ENV_ID = @ENV_ID
END

      